
<body><nav class="navbar navbar-light navbar-expand-md" style="background-color:#D35400  ;">
  <div class="container-fluid"><a class="navbar-brand" href="#">Comida Express</a><button class="navbar-toggler" data-toggle="collapse" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
      <div class="collapse navbar-collapse"
          id="navcol-1">
          <ul class="nav navbar-nav">
              <li class="nav-item" role="presentation"><a class="nav-link active" (click)="obtenerPerfil()"><i class="fa fa-home"></i>&nbsp; Home</a></li>
              <li class="nav-item" role="presentation" ><a class="nav-link active" (click)="mostrarProductos()"><i class="icon-social-dropbox"></i>&nbsp; Mis productos</a></li>
              <li class="nav-item" role="presentation"><a class="nav-link active" (click)="mostrarPedidos()"><i class="typcn typcn-clipboard"></i>&nbsp;Mis pedidos</a></li>
              <li class="nav-item" role="presentation"><a class="nav-link active" href="#"><i class="typcn typcn-chevron-right-outline"></i>&nbsp;Salir</a></li>
          </ul>
      </div>
  </div>
</nav>


<div *ngIf=visibleP>
  <div class="album py-5 bg-light"  >
          <div class="container">
              <button type="button" data-toggle="modal" data-target="#myModal2" class="btn btn-primary botonAgregarProducto" >Agregar producto</button>                  
              <div class="modal" id="myModal2">
                  <div class="modal-dialog">
                      <div class="modal-content">
                          <div class="modal-header">
                              <h4 class="modal-title">Agregar producto</h4>
                              <button type="button" class="close" data-dismiss="modal">&times;</button>
                          </div>
                          <div class="modal-body">
                              <h6 style="margin-left: 15px;">Nombre: </h6>
                              <input [(ngModel)]="nuevoNombre" type="text" class="cajaEditor" id="agregarNombreP" name="nombreP"  > 
                              <br><br><h6 style="margin-left: 15px;">Descripcion: </h6>
                              <input [(ngModel)]="nuevoDescripcion" type="text" class="cajaEditor" id="agregarDescripcionP" name="descripcionP" > 
                              <br><br><h6 style="margin-left: 15px;">Precio: </h6>
                              <input [(ngModel)]="nuevoPrecio" type="text" class="cajaEditor" id="agregarPrecioP" name="precioP"  > 
                              <br><br><h6 style="margin-left: 15px;">Categoría: </h6>
                              <input [(ngModel)]="nuevoCategoria" type="text" class="cajaEditor" id="agregarCategoriaP" name="categoriaP"  > 
                              <br><br><h6 style="margin-left: 15px;"> Imagen: </h6>
                              <input [(ngModel)]="nuevoImagen" type="text" class="cajaEditor" id="imagenProducto" name="imagenP"  > 
                              
                          </div>
                          <div class="modal-footer">
                              <button type="button" class="btn btn-danger botonModal" (click)="insertarProducto()" data-dismiss="modal" style="margin-right: 25px; ">Agregar</button>
                          </div>              
                      </div>
                  </div>
              </div>       
          </div>
                
      <div class="container" style="margin-top: 20px;">
          <div class="row">
              <div *ngFor="let producto of listaProductos; let i=index" class="col-md-4">
                  <div class="card mb-4 box-shadow">
                      <div class="card-body ">
                          <h5 class="card-title" >{{producto.nombre}}</h5>
                          <p class="card-text">Categoría: {{producto.categoria}}</p> 
                          <img  src="{{producto.imag}}" width="50" height="50"> 
                          <p class="card-text">Descripción: {{producto.descripcion}}</p>
                          <p class="card-text">Precio: ¢{{producto.precio}}</p> 
                          <div class="d-flex">
                              <button type="button" (click)= "eliminarProducto(i)" class="btn btn-sm btn-danger botonEliminar"  >Eliminar</button>
                              <button type="button" (click)= "abrirVentanaEditar(i)" class="btn btn-sm btn-danger botonEditar"  >Editar</button>
                          </div>
                      </div>                    
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>   

<div *ngIf=visibleEP>
        <div class="container-fluid">
            <div class="login-clean" >
                <form method="post"  >
                    <h2 class="sr-only" >Editando</h2>
                        <div class="illustration" ><i class="icon-user-follow" style="color:#D35400;"></i></div>
                        <h6 style="margin-left: 15px;"> Nombre: </h6>
                        <input [(ngModel)]="nombre" type="text" class="cajaEditor" id="nombreProducto" name="nombreP" value="{{nombre}}"  > 
                        <br><br><h6 style="margin-left: 15px;"> Categoría: </h6>
                        <input [(ngModel)]="categoria" type="text" class="cajaEditor" id="nombreCategoria" name="nombreC" value={{categoria}} > 
                        <br><br><h6 style="margin-left: 15px;"> Descripcion: </h6>
                        <input [(ngModel)]="descripcion" type="text" class="cajaEditor" id="descripcionProducto" name="descripcionP" value="{{descripcion}}" > 
                        <br><br><h6 style="margin-left: 15px;"> Precio: </h6>
                        <input [(ngModel)]="precio" type="text" class="cajaEditor" id="precioProducto" name="precioP" value="{{precio}}"> 
                        <br><br><h6 style="margin-left: 15px;"> Imagen: </h6>
                        <input [(ngModel)]="imag" type="text" class="cajaEditor" id="imagenProducto" name="imagenP" value="{{imag}}"> 
                    <div>
                      <br><br>
                      <button type="button" (click)= "editarProducto()" class="btn btn-danger botonModal" data-dismiss="modal" >Editar</button>
                      <button type="button" (click)= "regresar()" class="btn btn-danger botonModal" data-dismiss="modal" >Regresar</button>
                      
                    </div>
                </form>
            </div>
        </div>
  </div>  
  

<div *ngIf=visibleH>
  <div class="container">
      <br><br>
      <div class="card" style="width:100%;">          
          <div class="card-body">
              <h3 style="margin-left: 130px;"><i>Restaurante: {{userSession.nombre}}</i></h3>
              
              <h5 style="margin-left: 130px;margin-top:20px;">Descripción:  <small>{{userSession.descripcion}}</small></h5>
              <h5 style="margin-left: 130px;margin-top:20px;">Correo: <small>{{userSession.correo}}</small></h5>
              <h5 style="margin-left: 130px;margin-top:20px;">Horario: <small><br>Abrimos: {{userSession.inicio}} <br>Cerramos: {{userSession.fin}}</small></h5>
              <h5 style="margin-left: 130px;margin-top:20px;">Telefono: <small>{{userSession.telefono}}</small></h5>
              <img style="margin-left: 130px;margin-top:20px;" src="{{userSession.img}}">
              <h5 style="margin-left: 130px;margin-top:20px;">Ubicación: <small>{{userSession.ubicacion}}</small></h5>
              <br>
              <div class="container" style="margin-left: 115px;">
              </div>
              <div class="container">
                  <div class="modal" id="myModal3">
                      <div class="modal-dialog">
                          <div class="modal-content">
                              <div class="modal-header">
                                  <h4 class="modal-title">Editar informacion del restaurante</h4>
                                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                              </div>
                              <div class="modal-body">
                                  <h6 style="margin-left: 15px;"> Nombre: </h6>
                                  <input type="text" class="cajaEditor"  value= "{{userSession.nombre}}" [(ngModel)]="userSession.nombre" id="nombreRestaurante" name="nombreR"  > 

                                  <h6 style="margin-left: 15px;"> Contraseña: </h6>
                                  <input type="text" class="cajaEditor"  [(ngModel)]="userSession.contrasenna" id="contrasennaRestaurante" name="contrasennaR" placeholder= "{{userSession.contrasenna}}" value="{{userSession.contrasenna}}" > 

                                  <br><br><h6 style="margin-left: 15px;"> Descripcion: </h6>
                                  <input type="text" class="cajaEditor"  [(ngModel)]="userSession.descripcion" id="descripcionRestaurante" name="descripcionR" placeholder= "{{userSession.descripcion}}" value="{{userSession.correo}}" > 
                                  

                                  <br><br><h6 style="margin-left: 15px;"> Correo: </h6>
                                  <input type="email" class="cajaEditor"  [(ngModel)]="userSession.correo" id="emailRestaurante" name="emailR" placeholder= "{{userSession.correo}}" value="{{userSession.correo}}" > 
                                  
                                  <br><br><h6 style="margin-left: 15px;"> Hora inicio: </h6>
                                  <input type="text" class="cajaEditor"  [(ngModel)]="userSession.inicio" id="horaInicioRestaurante" name="horaInicioR" placeholder="{{userSession.inicio}}" value="{{userSession.inicio}}"> 
                                  
                                  <br><br><h6 style="margin-left: 15px;"> Hora final: </h6>
                                  <input type="text" class="cajaEditor"  [(ngModel)]="userSession.fin" id="horaFinalRestaurante" name="horaFinalR" placeholder="{{userSession.fin}}" value="{{userSession.fin}}" > 
                  
                                  <br><br><h6 style="margin-left: 15px;"> Teléfono: </h6>
                                  <input type="text" class="cajaEditor"  [(ngModel)]="userSession.telefono" id="telefonoRestaurante" name="telefonoR" placeholder="{{userSession.telefono}}" value="{{userSession.telefono}}" > 
                                  
                                  <br><br><h6 style="margin-left: 15px;"> Imagen: </h6>
                                  <input type="text" class="cajaEditor"  [(ngModel)]="userSession.img" id="imagenRestaurante" name="imagenR" placeholder="{{userSession.img}}" value="{{userSession.img}}"> 
                                  
                                  <br><br><h6 style="margin-left: 15px;"> Ubicación: </h6>
                                  <input type="text" class="cajaEditor"  [(ngModel)]="ubicacion" id="ubicacionRestaurante" name="ubicacionR" placeholder="[0,0]" value="ubicacion" > 
                                  
                                  <br><br><button class="btn btn-danger botonModal" style="margin-left:42px; width: 398px;"data-dismiss="modal" (click)="editarPerfil()">Editar Perfil</button>
                                  
                              </div>
                          </div>
                      </div>
                  </div>  
              </div>
              <br><br><button type="button" class="btn btn-danger botonModal"  style="margin-left:10%;width: 80%" data-toggle="modal" data-target="#myModal3">Editar información</button>                        
          </div>
      </div>
      <br>
  </div>        
</div>

<div *ngIf=visiblePe>
<div class="album py-5 bg-light">
  <div class="container" style="margin-top: 20px;">
      <div class="row">
          <div *ngFor="let pedido of listaPedidos; let i=index" class="col-md-4">
              <div class="card mb-4 box-shadow">
                  <div class="card-body ">

                      
                      <h5 class="card-title">Pedido de: {{pedido.nombre}}</h5>
 
                      <h5 class="card-title">Correo: {{pedido.correo}}</h5>
                      <p class="card-title">Descripcion: {{pedido.descripcion}}</p>

                      <p class="card-text">Categoría: {{pedido.categoria}}</p> 
                      <p class="card-text">Cantidad: {{pedido.cantidad}}</p>
                      <p class="card-text">Precio por unidad: {{pedido.precio}}</p>
                      <p class="card-text">Total: {{pedido.precio * pedido.cantidad}}</p>
                      <p class="card-text">Fecha: {{pedido.fecha}}</p> 
                      <p class="card-text">Estado: {{pedido.estado.proceso}}</p>     
                      <p class="card-text">Ubicación: {{pedido.ubicacion._latitude + " " +pedido.ubicacion._longitude }}</p>        
                      <button type="button" (click)="aceptarRechazarPedido(i,0)" style="margin-left:20px; width: 150px;" class="btn btn-danger botonModal" data-dismiss="modal">Rechazar</button>
                      <button type="button" (click)="aceptarRechazarPedido(i,1)" style="margin-left:20px; width: 150px;" class="btn btn-danger botonModal" data-dismiss="modal">Aceptar</button>
                      <button type="button" (click)="aceptarRechazarPedido(i,2)" style="margin-left:20px; width: 150px;" class="btn btn-danger botonModal" data-dismiss="modal">Entregar</button>
                  </div>                    
              </div>
          </div>
      </div>
  </div>
</div>
</div>   
</body>




